# app.py
from flask import Flask, render_template, request, jsonify, redirect, url_for, flash
from flask_login import LoginManager, login_user, logout_user, login_required, current_user
from flask_bcrypt import Bcrypt
from database import db, User, CalculationHistory, Achievement, UserProgress
from datetime import datetime, timedelta
import json
import math
import os

app = Flask(__name__)
app.config['SECRET_KEY'] = 'your-secret-key-here-change-in-production'
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///users.db'
app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

db.init_app(app)
bcrypt = Bcrypt(app)
login_manager = LoginManager(app)
login_manager.login_view = 'login'
login_manager.login_message = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ'


@login_manager.user_loader
def load_user(user_id):
    return User.query.get(int(user_id))


# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
with app.app_context():
    db.create_all()

    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
    if Achievement.query.count() == 0:
        achievements = [
            Achievement(name='–ù–æ–≤–∏—á–æ–∫', description='–ü–µ—Ä–≤—ã–π —Ä–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π', icon='üéØ', condition='first_calc',
                        points=10),
            Achievement(name='–ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', description='10 —Ä–∞—Å—á–µ—Ç–æ–≤', icon='üî•', condition='calc_10',
                        points=50),
            Achievement(name='–ü—Ä–æ—Ñ–∏', description='50 —Ä–∞—Å—á–µ—Ç–æ–≤', icon='üèÜ', condition='calc_50', points=200),
            Achievement(name='–¶–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω—ã–π', description='–î–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ —Ü–µ–ª—å –ø–æ –≤–µ—Å—É', icon='‚≠ê',
                        condition='goal_reached', points=100),
            Achievement(name='–≠–∫—Å–ø–µ—Ä—Ç', description='30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è', icon='üìÖ', condition='streak_30',
                        points=150),
            Achievement(name='–í–æ–¥–Ω—ã–π –±–∞–ª–∞–Ω—Å', description='–ü–∏—Ç—å–µ–≤–æ–π —Ä–µ–∂–∏–º —Å–æ–±–ª—é–¥–µ–Ω 7 –¥–Ω–µ–π', icon='üíß',
                        condition='water_7', points=75),
        ]
        for a in achievements:
            db.session.add(a)
        db.session.commit()


def calculate_bmi(weight, height):
    """–†–∞—Å—á–µ—Ç –∏–Ω–¥–µ–∫—Å–∞ –º–∞—Å—Å—ã —Ç–µ–ª–∞ (–ò–ú–¢)"""
    # height –≤ —Å–º, –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ –º–µ—Ç—Ä—ã
    height_m = height / 100
    bmi = weight / (height_m * height_m)
    return round(bmi, 1)

def get_bmi_category(bmi):
    """–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–µ—Å–∞ –ø–æ –ò–ú–¢ (–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –í–û–ó)"""
    if bmi < 16.0:
        return {
            'category': '–í—ã—Ä–∞–∂–µ–Ω–Ω—ã–π –¥–µ—Ñ–∏—Ü–∏—Ç –º–∞—Å—Å—ã —Ç–µ–ª–∞',
            'risk': '–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º',
            'color': '#ef4444',  # –∫—Ä–∞—Å–Ω—ã–π
            'icon': '‚ö†Ô∏è',
            'advice': '–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞-–¥–∏–µ—Ç–æ–ª–æ–≥–∞'
        }
    elif 16.0 <= bmi < 18.5:
        return {
            'category': '–î–µ—Ñ–∏—Ü–∏—Ç –º–∞—Å—Å—ã —Ç–µ–ª–∞',
            'risk': '–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π',
            'color': '#f59e0b',  # –æ—Ä–∞–Ω–∂–µ–≤—ã–π
            'icon': '‚ö°',
            'advice': '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞–±—Ä–∞—Ç—å –≤–µ—Å'
        }
    elif 18.5 <= bmi < 25.0:
        return {
            'category': '–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –º–∞—Å—Å–∞ —Ç–µ–ª–∞',
            'risk': '–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫',
            'color': '#10b981',  # –∑–µ–ª–µ–Ω—ã–π
            'icon': '‚úÖ',
            'advice': '–û—Ç–ª–∏—á–Ω—ã–π –≤–µ—Å! –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –µ–≥–æ'
        }
    elif 25.0 <= bmi < 30.0:
        return {
            'category': '–ò–∑–±—ã—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞ —Ç–µ–ª–∞ (–ø—Ä–µ–¥–æ–∂–∏—Ä–µ–Ω–∏–µ)',
            'risk': '–£–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–∏—Å–∫',
            'color': '#f59e0b',  # –æ—Ä–∞–Ω–∂–µ–≤—ã–π
            'icon': '‚ö†Ô∏è',
            'advice': '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∏–∑–∏—Ç—å –≤–µ—Å'
        }
    elif 30.0 <= bmi < 35.0:
        return {
            'category': '–û–∂–∏—Ä–µ–Ω–∏–µ I —Å—Ç–µ–ø–µ–Ω–∏',
            'risk': '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫',
            'color': '#ef4444',  # –∫—Ä–∞—Å–Ω—ã–π
            'icon': 'üî¥',
            'advice': '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–Ω–∏–∂–µ–Ω–∏–µ –≤–µ—Å–∞ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –≤—Ä–∞—á–∞'
        }
    elif 35.0 <= bmi < 40.0:
        return {
            'category': '–û–∂–∏—Ä–µ–Ω–∏–µ II —Å—Ç–µ–ø–µ–Ω–∏',
            'risk': '–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫',
            'color': '#dc2626',  # —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π
            'icon': 'üÜò',
            'advice': '–¢—Ä–µ–±—É–µ—Ç—Å—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ'
        }
    else:
        return {
            'category': '–û–∂–∏—Ä–µ–Ω–∏–µ III —Å—Ç–µ–ø–µ–Ω–∏ (–º–æ—Ä–±–∏–¥–Ω–æ–µ)',
            'risk': '–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫',
            'color': '#7f1d1d',  # –±–æ—Ä–¥–æ–≤—ã–π
            'icon': 'üö®',
            'advice': '–°—Ä–æ—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –≤—Ä–∞—á–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞'
        }


def calculate_bmr(weight, height, age, gender):
    """–†–∞—Å—á–µ—Ç –±–∞–∑–æ–≤–æ–≥–æ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞ (BMR) –ø–æ —Ñ–æ—Ä–º—É–ª–µ –ú–∏—Ñ—Ñ–ª–∏–Ω–∞-–°–∞–Ω –ñ–µ–æ—Ä–∞"""
    if gender == 'male':
        return (10 * weight) + (6.25 * height) - (5 * age) + 5
    else:  # female
        return (10 * weight) + (6.25 * height) - (5 * age) - 161


def calculate_calories(weight, height, age, gender, activity_level, goal):
    """–†–∞—Å—á–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∫–∞–ª–æ—Ä–∏–π"""
    bmr = calculate_bmr(weight, height, age, gender)

    activity_factors = {
        'sedentary': 1.2,
        'light': 1.375,
        'moderate': 1.55,
        'active': 1.725,
        'very_active': 1.9
    }

    maintenance = bmr * activity_factors[activity_level]

    if goal == 'weight_loss':
        recommended = maintenance - 500
        protein = weight * 2.0
        fats = weight * 0.8
        carbs = max(0, (recommended - (protein * 4) - (fats * 9)) / 4)
    elif goal == 'muscle_gain':
        recommended = maintenance + 300
        protein = weight * 2.2
        fats = weight * 0.9
        carbs = max(0, (recommended - (protein * 4) - (fats * 9)) / 4)
    else:  # maintenance
        recommended = maintenance
        protein = weight * 1.6
        fats = weight * 0.8
        carbs = max(0, (recommended - (protein * 4) - (fats * 9)) / 4)

    return {
        'bmr': round(bmr),
        'maintenance': round(maintenance),
        'recommended': round(recommended),
        'protein': round(protein),
        'fats': round(fats),
        'carbs': round(carbs)
    }


def check_achievements(user):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π"""
    achievements = json.loads(user.achievements) if user.achievements else []
    new_achievements = []

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞—Å—á–µ—Ç–æ–≤
    calc_count = len(user.calculations)
    achievement_map = {
        'first_calc': 1,
        'calc_10': 10,
        'calc_50': 50
    }

    for ach_name, count in achievement_map.items():
        if calc_count >= count:
            ach = Achievement.query.filter_by(condition=ach_name).first()
            if ach and ach.name not in achievements:
                achievements.append(ach.name)
                new_achievements.append(ach.name)

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ streak (–¥–Ω–µ–π –ø–æ–¥—Ä—è–¥)
    if len(user.calculations) > 0:
        last_dates = sorted([c.date.date() for c in user.calculations[-30:]])
        if len(last_dates) >= 30:
            streak = 1
            for i in range(1, len(last_dates)):
                if (last_dates[i] - last_dates[i - 1]).days == 1:
                    streak += 1
                else:
                    streak = 1
                if streak >= 30:
                    ach = Achievement.query.filter_by(condition='streak_30').first()
                    if ach and ach.name not in achievements:
                        achievements.append(ach.name)
                        new_achievements.append(ach.name)

    user.achievements = json.dumps(achievements)
    return new_achievements



@app.route('/')
def index():
    return render_template('index.html')

@app.route('/login', methods=['GET', 'POST'])
def login():
    if current_user.is_authenticated:
        return redirect(url_for('profile'))

    if request.method == 'POST':
        email = request.form.get('email')
        password = request.form.get('password')
        remember = True if request.form.get('remember') else False

        user = User.query.filter_by(email=email).first()

        if user and bcrypt.check_password_hash(user.password_hash, password):
            user.last_login = datetime.utcnow()
            db.session.commit()
            login_user(user, remember=remember)
            flash('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', 'success')
            return redirect(url_for('profile'))
        else:
            flash('–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'danger')

    return render_template('login.html')


@app.route('/register', methods=['GET', 'POST'])
def register():
    if current_user.is_authenticated:
        return redirect(url_for('profile'))

    if request.method == 'POST':
        username = request.form.get('username')
        email = request.form.get('email')
        password = request.form.get('password')

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user_exists = User.query.filter((User.email == email) | (User.username == username)).first()
        if user_exists:
            flash('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –∏–ª–∏ –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç', 'danger')
            return redirect(url_for('register'))

        # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        hashed_password = bcrypt.generate_password_hash(password).decode('utf-8')
        new_user = User(
            username=username,
            email=email,
            password_hash=hashed_password,
            achievements='[]'
        )

        db.session.add(new_user)
        db.session.commit()

        flash('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏', 'success')
        return redirect(url_for('login'))

    return render_template('register.html')


@app.route('/logout')
@login_required
def logout():
    logout_user()
    flash('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'info')
    return redirect(url_for('index'))


@app.route('/profile')
@login_required
def profile():
    # –ü–æ–ª—É—á–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Ä–∞—Å—á–µ—Ç–æ–≤
    calculations = CalculationHistory.query.filter_by(user_id=current_user.id) \
        .order_by(CalculationHistory.date.desc()).limit(10).all()

    # –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
    achievements_list = json.loads(current_user.achievements) if current_user.achievements else []
    achievements_data = Achievement.query.all()

    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    today = datetime.utcnow().date()
    week_ago = today - timedelta(days=7)

    progress_data = UserProgress.query.filter(
        UserProgress.user_id == current_user.id,
        UserProgress.date >= week_ago
    ).order_by(UserProgress.date).all()

    # –†–∞—Å—á–µ—Ç –ò–ú–¢ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    bmi_info = None
    if current_user.weight and current_user.height:
        bmi = calculate_bmi(current_user.weight, current_user.height)
        bmi_category = get_bmi_category(bmi)
        bmi_info = {
            'value': bmi,
            'category': bmi_category
        }

    # –†–∞—Å—á–µ—Ç streak
    streak = 0
    if calculations:
        last_date = calculations[0].date.date()
        if last_date == today:
            streak = 1
            for i in range(1, len(calculations)):
                if (calculations[i - 1].date.date() - calculations[i].date.date()).days == 1:
                    streak += 1
                else:
                    break

    return render_template('profile.html',
                           user=current_user,
                           calculations=calculations,
                           achievements=achievements_data,
                           user_achievements=achievements_list,
                           progress_data=progress_data,
                           streak=streak,
                           bmi_info=bmi_info)  # –î–æ–±–∞–≤–ª—è–µ–º –ò–ú–¢ –≤ —à–∞–±–ª–æ–Ω


@app.route('/workouts')
@login_required
def workouts():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏"""
    return render_template('workouts.html', user=current_user)


@app.route('/get_workout_plan', methods=['POST'])
@login_required
def get_workout_plan():
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"""
    try:
        data = request.json
        goal = data.get('goal', current_user.goal or 'maintenance')
        level = data.get('level', 'beginner')
        equipment = data.get('equipment', 'minimal')
        duration = data.get('duration', 30)

        # –†–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
        workouts_db = {
            'weight_loss': {  # –ü–æ—Ö—É–¥–µ–Ω–∏–µ - –∫–∞—Ä–¥–∏–æ –∏ –∂–∏—Ä–æ—Å–∂–∏–≥–∞—é—â–∏–µ
                'beginner': {
                    'minimal': {
                        'name': 'üî• –ñ–∏—Ä–æ—Å–∂–∏–≥–∞—é—â–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
                        'description': '–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –º–µ—Ç–∞–±–æ–ª–∏–∑–º–∞ –∏ —Å–∂–∏–≥–∞–Ω–∏—è –∂–∏—Ä–∞',
                        'calories': '250-350',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–†–∞–∑–º–∏–Ω–∫–∞ —Å—É—Å—Ç–∞–≤–æ–≤',
                                'duration': '5 –º–∏–Ω',
                                'description': '–í—Ä–∞—â–µ–Ω–∏—è –≥–æ–ª–æ–≤–æ–π (10 —Ä–∞–∑), –ø–ª–µ—á–∞–º–∏ (15 –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥), —Ç–∞–∑–æ–º (15), –∫–æ–ª–µ–Ω—è–º–∏ (15), —Å—Ç–æ–ø–∞–º–∏ (15). –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç —Å—É—Å—Ç–∞–≤—ã –∫ –Ω–∞–≥—Ä—É–∑–∫–µ.'
                            },
                            {
                                'name': '–•–æ–¥—å–±–∞ —Å –≤—ã—Å–æ–∫–∏–º –ø–æ–¥–Ω–∏–º–∞–Ω–∏–µ–º –∫–æ–ª–µ–Ω–µ–π',
                                'sets': '3',
                                'reps': '45 —Å–µ–∫ —Ä–∞–±–æ—Ç—ã / 15 —Å–µ–∫ –æ—Ç–¥—ã—Ö',
                                'description': '–ö–æ–ª–µ–Ω–∏ –ø–æ–¥–Ω–∏–º–∞–µ–º –¥–æ —É—Ä–æ–≤–Ω—è —Ç–∞–∑–∞, —Ä—É–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–∏ –±–µ–≥–µ. –°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è. –£—á–∞—â–µ–Ω–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ - –Ω–æ—Ä–º–∞–ª—å–Ω–æ.'
                            },
                            {
                                'name': '–î–∂–∞–º–ø–∏–Ω–≥ –¥–∂–µ–∫—Å (–ø—Ä—ã–∂–∫–∏ –Ω–æ–≥–∏ –≤–º–µ—Å—Ç–µ-–≤—Ä–æ–∑—å)',
                                'sets': '3',
                                'reps': '40 —Å–µ–∫ —Ä–∞–±–æ—Ç—ã / 20 —Å–µ–∫ –æ—Ç–¥—ã—Ö',
                                'description': '–ù–æ–≥–∏ –ø—Ä—ã–∂–∫–æ–º —à–∏—Ä–µ –ø–ª–µ—á, —Ä—É–∫–∏ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω—ã –≤–≤–µ—Ä—Ö. –ü—Ä–∏–∑–µ–º–ª—è–π—Ç–µ—Å—å –º—è–≥–∫–æ –Ω–∞ –ø–æ–ª–Ω—É—é —Å—Ç–æ–ø—É. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—É–ª—å—Å–æ–º.'
                            },
                            {
                                'name': '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –≤–µ—Å–æ–º',
                                'sets': '3',
                                'reps': '15-20 —Ä–∞–∑',
                                'rest': '45 —Å–µ–∫',
                                'description': '–ù–æ–≥–∏ –Ω–∞ —à–∏—Ä–∏–Ω–µ –ø–ª–µ—á, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è. –û—Ç–≤–æ–¥–∏—Ç–µ —Ç–∞–∑ –Ω–∞–∑–∞–¥, –∫–∞–∫ –±—É–¥—Ç–æ —Å–∞–¥–∏—Ç–µ—Å—å –Ω–∞ —Å—Ç—É–ª. –ö–æ–ª–µ–Ω–∏ –Ω–µ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –Ω–æ—Å–∫–∏.'
                            },
                            {
                                'name': '–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç –∫–æ–ª–µ–Ω',
                                'sets': '3',
                                'reps': '10-12 —Ä–∞–∑',
                                'rest': '45 —Å–µ–∫',
                                'description': '–£–ø–æ—Ä –Ω–∞ –∫–æ–ª–µ–Ω–∏, —Ä—É–∫–∏ —à–∏—Ä–µ –ø–ª–µ—á. –û–ø—É—Å–∫–∞–π—Ç–µ—Å—å –≥—Ä—É–¥—å—é –∫ –ø–æ–ª—É, –ª–æ–∫—Ç–∏ —Å–º–æ—Ç—Ä—è—Ç –Ω–∞–∑–∞–¥. –î–µ—Ä–∂–∏—Ç–µ –ø—Ä–µ—Å—Å –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω—ã–º.'
                            },
                            {
                                'name': '–ë—ë—Ä–ø–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ)',
                                'sets': '3',
                                'reps': '8-10 —Ä–∞–∑',
                                'rest': '60 —Å–µ–∫',
                                'description': '–ü—Ä–∏—Å–µ–ª–∏, —Ä—É–∫–∏ –Ω–∞ –ø–æ–ª, –ø—Ä—ã–∂–∫–æ–º —É—à–ª–∏ –≤ –ø–ª–∞–Ω–∫—É, –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –ø—Ä–∏—Å–µ–¥, –≤—ã–ø—Ä—ã–≥–Ω—É–ª–∏ –≤–≤–µ—Ä—Ö. –¢–µ–º–ø —Å—Ä–µ–¥–Ω–∏–π.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞-—Ä–∞—Å—Ç—è–∂–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–†–∞—Å—Ç—è–∂–∫–∞ –∫–≤–∞–¥—Ä–∏—Ü–µ–ø—Å–∞ (30 —Å–µ–∫ –Ω–∞ –Ω–æ–≥—É), —Ä–∞—Å—Ç—è–∂–∫–∞ –≥—Ä—É–¥–Ω—ã—Ö –º—ã—à—Ü (30 —Å–µ–∫), –Ω–∞–∫–ª–æ–Ω –≤–ø–µ—Ä–µ–¥ –∫ –Ω–æ–≥–∞–º (60 —Å–µ–∫), "–±–∞–±–æ—á–∫–∞" (60 —Å–µ–∫).'
                            }
                        ],
                        'tips': [
                            '–ü–µ–π—Ç–µ –≤–æ–¥—É –∫–∞–∂–¥—ã–µ 10-15 –º–∏–Ω—É—Ç –ø–æ 2-3 –≥–ª–æ—Ç–∫–∞',
                            '–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—É–ª—å—Å–æ–º - –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 120-150 —É–¥–∞—Ä–æ–≤ –≤ –º–∏–Ω—É—Ç—É',
                            '–ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å —Ä–µ–∑–∫–æ, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Å–Ω–∏–∂–∞–π—Ç–µ —Ç–µ–º–ø',
                            '–ó–∞–≤—Ç—Ä–∞–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞ 1.5-2 —á–∞—Å–∞ –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏'
                        ]
                    },
                    'full': {
                        'name': 'üî• –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –∫–∞—Ä–¥–∏–æ —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º',
                        'description': '–ñ–∏—Ä–æ—Å–∂–∏–≥–∞—é—â–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ –∏ —Å–∫–∞–∫–∞–ª–∫–æ–π',
                        'calories': '350-450',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–ö–∞—Ä–¥–∏–æ-—Ä–∞–∑–º–∏–Ω–∫–∞ —Å–æ —Å–∫–∞–∫–∞–ª–∫–æ–π',
                                'duration': '5 –º–∏–Ω',
                                'description': '–ü—Ä—ã–∂–∫–∏ –Ω–∞ —Å–∫–∞–∫–∞–ª–∫–µ –≤ —Å—Ä–µ–¥–Ω–µ–º —Ç–µ–º–ø–µ. –ß–µ—Ä–µ–¥—É–π—Ç–µ –Ω–æ–≥–∏, –≤—Ä–∞—â–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –∫–∏—Å—Ç—è–º–∏. –î—ã—à–∏—Ç–µ —Ä–∏—Ç–º–∏—á–Ω–æ.'
                            },
                            {
                                'name': '–ë—ë—Ä–ø–∏ —Å –æ—Ç–∂–∏–º–∞–Ω–∏–µ–º',
                                'sets': '4',
                                'reps': '12-15 —Ä–∞–∑',
                                'rest': '30 —Å–µ–∫',
                                'description': '–ò–∑ –ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç–æ—è —É–ø–∞–ª–∏ –≤ —É–ø–æ—Ä –ª–µ–∂–∞, —Å–¥–µ–ª–∞–ª–∏ –æ—Ç–∂–∏–º–∞–Ω–∏–µ, –ø–æ–¥–ø—Ä—ã–≥–Ω—É–ª–∏, –≤—ã–ø—Ä—ã–≥–Ω—É–ª–∏ –≤–≤–µ—Ä—Ö. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å.'
                            },
                            {
                                'name': '–í—ã–ø–∞–¥—ã —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏',
                                'sets': '4',
                                'reps': '15 –Ω–∞ –∫–∞–∂–¥—É—é –Ω–æ–≥—É',
                                'weight': '4-6 –∫–≥',
                                'rest': '30 —Å–µ–∫',
                                'description': '–ì–∞–Ω—Ç–µ–ª–∏ –≤ –æ–ø—É—â–µ–Ω–Ω—ã—Ö —Ä—É–∫–∞—Ö. –®–∞–≥ –≤–ø–µ—Ä–µ–¥, –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ–Ω–æ –ø–æ—á—Ç–∏ –∫–∞—Å–∞–µ—Ç—Å—è –ø–æ–ª–∞. –ü–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ–Ω–æ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –Ω–æ—Å–æ–∫.'
                            },
                            {
                                'name': '–°–∫–∞–∫–∞–ª–∫–∞ (–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã)',
                                'sets': '4',
                                'reps': '60 —Å–µ–∫ —Ä–∞–±–æ—Ç–∞ / 20 —Å–µ–∫ –æ—Ç–¥—ã—Ö',
                                'description': '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–µ –ø—Ä—ã–∂–∫–∏ –≤ —Ä–∞–±–æ—Ç—É, –≤ –æ—Ç–¥—ã—Ö–µ - —Ö–æ–¥—å–±–∞ –Ω–∞ –º–µ—Å—Ç–µ. –î–µ—Ä–∂–∏—Ç–µ –ø—É–ª—å—Å –≤—ã—Å–æ–∫–∏–º.'
                            },
                            {
                                'name': '–ú–∞—Ö–∏ –≥–∞–Ω—Ç–µ–ª—è–º–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã',
                                'sets': '4',
                                'reps': '20 —Ä–∞–∑',
                                'weight': '2-4 –∫–≥',
                                'rest': '20 —Å–µ–∫',
                                'description': '–°—Ç–æ—è, –≥–∞–Ω—Ç–µ–ª–∏ –ø–µ—Ä–µ–¥ —Å–æ–±–æ–π. –†—ã–≤–∫–æ–º –ø–æ–¥–Ω–∏–º–∏—Ç–µ —Ä—É–∫–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã –¥–æ —É—Ä–æ–≤–Ω—è –ø–ª–µ—á, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –æ–ø—É—Å–∫–∞–Ω–∏–µ.'
                            },
                            {
                                'name': '–ü–ª–∞–Ω–∫–∞ —Å –∫–∞—Å–∞–Ω–∏–µ–º –ø–ª–µ—á',
                                'sets': '4',
                                'reps': '30 —Å–µ–∫',
                                'rest': '20 —Å–µ–∫',
                                'description': '–í —É–ø–æ—Ä–µ –ª–µ–∂–∞ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –∫–∞—Å–∞–π—Ç–µ—Å—å —Ä—É–∫–æ–π –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–≥–æ –ø–ª–µ—á–∞. –¢–∞–∑ –Ω–µ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è, –ø—Ä–µ—Å—Å –Ω–∞–ø—Ä—è–∂–µ–Ω.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞-—Å—Ç—Ä–µ—Ç—á–∏–Ω–≥',
                                'duration': '5 –º–∏–Ω',
                                'description': '–ì–ª—É–±–æ–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ—Ö —Ä–∞–±–æ—á–∏—Ö –≥—Ä—É–ø–ø –º—ã—à—Ü. –£–¥–µ–ª–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–æ–≥–∞–º –∏ —Å–ø–∏–Ω–µ.'
                            }
                        ],
                        'tips': [
                            '–ü—É–ª—å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 130-160 —É–¥–∞—Ä–æ–≤ –≤ –º–∏–Ω—É—Ç—É',
                            '–ü–µ–π—Ç–µ –∏–∑–æ—Ç–æ–Ω–∏–∫–∏ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç–æ–≤',
                            '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ –¥–µ–Ω—å –¥–ª—è –ª—É—á—à–µ–≥–æ –∂–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏—è',
                            '–î–æ–±–∞–≤—å—Ç–µ L-–∫–∞—Ä–Ω–∏—Ç–∏–Ω –∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏'
                        ]
                    }
                },
                'intermediate': {
                    'minimal': {
                        'name': '‚ö° HIIT —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (—Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)',
                        'description': '–í—ã—Å–æ–∫–æ–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∏–Ω–≥ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∂–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏—è',
                        'calories': '400-500',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–ë–µ–≥ –Ω–∞ –º–µ—Å—Ç–µ (2 –º–∏–Ω), –º–∞—Ö–∏ –Ω–æ–≥–∞–º–∏ (20 —Ä–∞–∑), –≤—ã–ø–∞–¥—ã —Å –ø–æ–≤–æ—Ä–æ—Ç–æ–º (10 —Ä–∞–∑), –ø—Ä—ã–∂–∫–æ–≤—ã–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è (15 —Ä–∞–∑)'
                            },
                            {
                                'name': '–ë—ë—Ä–ø–∏ —Å –ø—Ä—ã–∂–∫–æ–º –≤ –¥–ª–∏–Ω—É',
                                'sets': '5',
                                'reps': '40 —Å–µ–∫ —Ä–∞–±–æ—Ç–∞ / 20 —Å–µ–∫ –æ—Ç–¥—ã—Ö',
                                'description': '–ë—ë—Ä–ø–∏ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –ø—Ä—ã–∂–∫–æ–º –≤–ø–µ—Ä–µ–¥. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –±–µ–≥–æ–º –æ–±—Ä–∞—Ç–Ω–æ. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞.'
                            },
                            {
                                'name': '–°–∫–∞–ª–æ–ª–∞–∑ (Mountain Climbers)',
                                'sets': '5',
                                'reps': '45 —Å–µ–∫ —Ä–∞–±–æ—Ç–∞ / 15 —Å–µ–∫ –æ—Ç–¥—ã—Ö',
                                'description': '–í —É–ø–æ—Ä–µ –ª–µ–∂–∞ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –ø–æ–¥—Ç—è–≥–∏–≤–∞–π—Ç–µ –∫–æ–ª–µ–Ω–∏ –∫ –≥—Ä—É–¥–∏ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —Ç–µ–º–ø–µ. –¢–∞–∑ –ø—Ä–∏–ø–æ–¥–Ω—è—Ç.'
                            },
                            {
                                'name': '–°–∏—Ç-–∞–ø—ã (—Å–∫—Ä—É—á–∏–≤–∞–Ω–∏—è)',
                                'sets': '5',
                                'reps': '25 —Ä–∞–∑',
                                'rest': '15 —Å–µ–∫',
                                'description': '–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –Ω–æ–≥–∏ —Å–æ–≥–Ω—É—Ç—ã. –†—É–∫–∏ –∑–∞ –≥–æ–ª–æ–≤–æ–π, –ø–æ–¥—ä–µ–º –∫–æ—Ä–ø—É—Å–∞ –¥–æ –∫–∞—Å–∞–Ω–∏—è –ª–æ–∫—Ç—è–º–∏ –∫–æ–ª–µ–Ω–µ–π.'
                            },
                            {
                                'name': '–î–∂–∞–º–ø–∏–Ω–≥ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è',
                                'sets': '5',
                                'reps': '20 —Ä–∞–∑',
                                'rest': '20 —Å–µ–∫',
                                'description': '–ò–∑ –≥–ª—É–±–æ–∫–æ–≥–æ –ø—Ä–∏—Å–µ–¥–∞ –≤—ã–ø—Ä—ã–≥–∏–≤–∞–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–≤–µ—Ä—Ö. –ü—Ä–∏–∑–µ–º–ª—è–π—Ç–µ—Å—å –º—è–≥–∫–æ, —Å—Ä–∞–∑—É –≤ –ø—Ä–∏—Å–µ–¥.'
                            },
                            {
                                'name': '–ü–ª–∞–Ω–∫–∞ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º',
                                'sets': '5',
                                'reps': '30 —Å–µ–∫',
                                'rest': '15 —Å–µ–∫',
                                'description': '–ò–∑ –ø–ª–∞–Ω–∫–∏ –Ω–∞ –ø—Ä—è–º—ã—Ö —Ä—É–∫–∞—Ö –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –≤ –ø–ª–∞–Ω–∫—É –Ω–∞ –ª–æ–∫—Ç—è—Ö –∏ –æ–±—Ä–∞—Ç–Ω–æ. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–µ–º–ø.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–†–∞—Å—Ç—è–∂–∫–∞ –≤ –¥–∏–Ω–∞–º–∏–∫–µ, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—ã—Ö–∞–Ω–∏—è, —Ö–æ–¥—å–±–∞ –Ω–∞ –º–µ—Å—Ç–µ'
                            }
                        ],
                        'tips': [
                            'HIIT –Ω–µ —á–∞—â–µ 3 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é',
                            '–ú–µ–∂–¥—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 48 —á–∞—Å–æ–≤ –æ—Ç–¥—ã—Ö–∞',
                            '–ü–µ–π—Ç–µ BCAA –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',
                            '–°–ø–∏—Ç–µ –Ω–µ –º–µ–Ω–µ–µ 8 —á–∞—Å–æ–≤ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è'
                        ]
                    }
                },
                'advanced': {
                    'minimal': {
                        'name': 'üí• –¢–∞–±–∞—Ç–∞-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å)',
                        'description': '–ü—Ä–æ—Ç–æ–∫–æ–ª –¢–∞–±–∞—Ç–∞: 20 —Å–µ–∫ —Ä–∞–±–æ—Ç–∞ / 10 —Å–µ–∫ –æ—Ç–¥—ã—Ö, 8 —Ä–∞—É–Ω–¥–æ–≤',
                        'calories': '450-600',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–°–ø–µ—Ü. —Ä–∞–∑–º–∏–Ω–∫–∞',
                                'duration': '7 –º–∏–Ω',
                                'description': '–°—É—Å—Ç–∞–≤–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞, –ª–µ–≥–∫–∏–π –±–µ–≥, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞, –∞–∫—Ç–∏–≤–∞—Ü–∏—è –º—ã—à—Ü –∫–æ—Ä–∞'
                            },
                            {
                                'name': '–ë—ë—Ä–ø–∏',
                                'sets': '8 —Ä–∞—É–Ω–¥–æ–≤',
                                'reps': '20/10',
                                'description': '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–µ –±—ë—Ä–ø–∏. 20 —Å–µ–∫—É–Ω–¥ —Ä–∞–±–æ—Ç—ã, 10 –æ—Ç–¥—ã—Ö–∞. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å 8 —Ä–∞–∑. –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.'
                            },
                            {
                                'name': '–°–∫–∞–∫–∞–ª–∫–∞ (–¥–≤–æ–π–Ω—ã–µ –ø—Ä—ã–∂–∫–∏)',
                                'sets': '8 —Ä–∞—É–Ω–¥–æ–≤',
                                'reps': '20/10',
                                'description': '–ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –¥–µ–ª–∞—Ç—å –¥–≤–æ–π–Ω—ã–µ –ø—Ä–æ–∫—Ä—É—Ç—ã —Å–∫–∞–∫–∞–ª–∫–∏. –í—ã—Å–æ–∫–∏–π —Ç–µ–º–ø.'
                            },
                            {
                                'name': '–í—ã–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è –∏–∑ –ø—Ä–∏—Å–µ–¥–∞',
                                'sets': '8 —Ä–∞—É–Ω–¥–æ–≤',
                                'reps': '20/10',
                                'description': '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –ø—Ä—ã–∂–∫–∞, –ø–æ–ª–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞ –ø—Ä–∏—Å–µ–¥–∞.'
                            },
                            {
                                'name': '–û—Ç–∂–∏–º–∞–Ω–∏—è —Ö–ª–æ–ø–∫–æ–º',
                                'sets': '8 —Ä–∞—É–Ω–¥–æ–≤',
                                'reps': '20/10',
                                'description': '–û—Ç–∂–∏–º–∞–Ω–∏—è —Å —Ö–ª–æ–ø–∫–æ–º –≤ –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.'
                            },
                            {
                                'name': '–ë—É—Ä–ø–∏ —Å –æ—Ç–∂–∏–º–∞–Ω–∏–µ–º',
                                'sets': '8 —Ä–∞—É–Ω–¥–æ–≤',
                                'reps': '20/10',
                                'description': '–£—Å–ª–æ–∂–Ω–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –æ—Ç–∂–∏–º–∞–Ω–∏–µ–º.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '7 –º–∏–Ω',
                                'description': '–ì–ª—É–±–æ–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞, –º–∏–æ—Ñ–∞—Å—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥—ã—Ö–∞–Ω–∏—è'
                            }
                        ],
                        'tips': [
                            '–¢–∞–±–∞—Ç–∞ - —ç—Ç–æ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã',
                            '–ü—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –≤—Ä–∞—á–æ–º –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º',
                            '–ü–µ–π—Ç–µ —ç–ª–µ–∫—Ç—Ä–æ–ª–∏—Ç—ã',
                            '–ù–µ —Ç—Ä–µ–Ω–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –≥–æ–ª–æ–¥–Ω—ã–π –∂–µ–ª—É–¥–æ–∫'
                        ]
                    }
                }
            },
            'muscle_gain': {  # –ù–∞–±–æ—Ä –º–∞—Å—Å—ã - —Å–∏–ª–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
                'beginner': {
                    'minimal': {
                        'name': 'üí™ –°–∏–ª–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ (Full Body)',
                        'description': '–ë–∞–∑–æ–≤–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞ –≤—Å–µ –≥—Ä—É–ø–ø—ã –º—ã—à—Ü',
                        'calories': '200-300',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–†–∞–∑–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–ö–∞—Ä–¥–∏–æ 3 –º–∏–Ω + —Å—É—Å—Ç–∞–≤–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¶–ù–° –∫ —Ä–∞–±–æ—Ç–µ.'
                            },
                            {
                                'name': '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ)',
                                'sets': '4',
                                'reps': '15 —Ä–∞–∑',
                                'rest': '60 —Å–µ–∫',
                                'description': '–ù–æ–≥–∏ —à–∏—Ä–µ –ø–ª–µ—á, –Ω–æ—Å–∫–∏ —á—É—Ç—å –≤—Ä–æ–∑—å. –û—Ç–≤–æ–¥–∏—Ç–µ —Ç–∞–∑ –Ω–∞–∑–∞–¥, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è. –í –Ω–∏–∂–Ω–µ–π —Ç–æ—á–∫–µ –±–µ–¥—Ä–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ–ª—É.'
                            },
                            {
                                'name': '–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç –ø–æ–ª–∞',
                                'sets': '4',
                                'reps': '10-12 —Ä–∞–∑',
                                'rest': '60 —Å–µ–∫',
                                'description': '–†—É–∫–∏ —á—É—Ç—å —à–∏—Ä–µ –ø–ª–µ—á, –ª–æ–∫—Ç–∏ –ø—Ä–∏–∂–∞—Ç—ã –∫ –∫–æ—Ä–ø—É—Å—É –ø–æ–¥ 45¬∞. –û–ø—É—Å–∫–∞–π—Ç–µ—Å—å –¥–æ –∫–∞—Å–∞–Ω–∏—è –≥—Ä—É–¥—å—é –ø–æ–ª–∞.'
                            },
                            {
                                'name': '–í—ã–ø–∞–¥—ã –Ω–∞–∑–∞–¥',
                                'sets': '3',
                                'reps': '12 –Ω–∞ –∫–∞–∂–¥—É—é –Ω–æ–≥—É',
                                'rest': '45 —Å–µ–∫',
                                'description': '–®–∞–≥ –Ω–∞–∑–∞–¥, –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ–Ω–æ –æ–ø—É—Å–∫–∞–µ—Ç—Å—è –∫ –ø–æ–ª—É. –ü–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ–Ω–æ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –Ω–æ—Å–æ–∫. –î–µ—Ä–∂–∏—Ç–µ –∫–æ—Ä–ø—É—Å –ø—Ä—è–º–æ.'
                            },
                            {
                                'name': '–û–±—Ä–∞—Ç–Ω—ã–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å–∫–∞–º—å–∏',
                                'sets': '3',
                                'reps': '12-15 —Ä–∞–∑',
                                'rest': '45 —Å–µ–∫',
                                'description': '–†—É–∫–∏ –Ω–∞ —Å–∫–∞–º—å–µ –∑–∞ —Å–ø–∏–Ω–æ–π, —Ç–∞–∑ –Ω–∞ –≤–µ—Å—É. –û–ø—É—Å–∫–∞–π—Ç–µ—Å—å –¥–æ —É–≥–ª–∞ 90¬∞ –≤ –ª–æ–∫—Ç—è—Ö. –¢—Ä–∏—Ü–µ–ø—Å.'
                            },
                            {
                                'name': '–ü–ª–∞–Ω–∫–∞',
                                'sets': '3',
                                'reps': '45 —Å–µ–∫',
                                'rest': '30 —Å–µ–∫',
                                'description': '–ù–∞ –ª–æ–∫—Ç—è—Ö, —Ç–µ–ª–æ –ø—Ä—è–º–∞—è –ª–∏–Ω–∏—è. –í—Ç—è–Ω–∏—Ç–µ –∂–∏–≤–æ—Ç, –Ω–∞–ø—Ä—è–≥–∏—Ç–µ —è–≥–æ–¥–∏—Ü—ã. –ù–µ –ø—Ä–æ–≥–∏–±–∞–π—Ç–µ—Å—å –≤ –ø–æ—è—Å–Ω–∏—Ü–µ.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–†–∞—Å—Ç—è–∂–∫–∞ –∫–≤–∞–¥—Ä–∏—Ü–µ–ø—Å–∞, –±–∏—Ü–µ–ø—Å–∞ –±–µ–¥—Ä–∞, –≥—Ä—É–¥–Ω—ã—Ö –º—ã—à—Ü –∏ —Å–ø–∏–Ω—ã'
                            }
                        ],
                        'tips': [
                            '–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—Ä—É–π—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é',
                            '–ï—à—å—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–µ–ª–∫–∞ (1.6-2–≥ –Ω–∞ –∫–≥ –≤–µ—Å–∞)',
                            '–°–ø–∏—Ç–µ 8-9 —á–∞—Å–æ–≤ –¥–ª—è —Ä–æ—Å—Ç–∞ –º—ã—à—Ü',
                            '–í–µ–¥–∏—Ç–µ –¥–Ω–µ–≤–Ω–∏–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫'
                        ]
                    },
                    'full': {
                        'name': 'üí™ –°–∏–ª–æ–≤–∞—è —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ (Full Body)',
                        'description': '–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å –æ—Ç—è–≥–æ—â–µ–Ω–∏–µ–º –¥–ª—è —Ä–æ—Å—Ç–∞ –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã',
                        'calories': '250-350',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–†–∞–∑–º–∏–Ω–∫–∞ —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏',
                                'duration': '5 –º–∏–Ω',
                                'description': '–í—Ä–∞—â–µ–Ω–∏—è —Å –ª–µ–≥–∫–∏–º–∏ –≥–∞–Ω—Ç–µ–ª—è–º–∏, –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏ (–±–µ–∑ –≤–µ—Å–∞)'
                            },
                            {
                                'name': '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –≥–∞–Ω—Ç–µ–ª—è–º–∏',
                                'sets': '4',
                                'reps': '10-12 —Ä–∞–∑',
                                'weight': '7-10 –∫–≥',
                                'rest': '90 —Å–µ–∫',
                                'description': '–ì–∞–Ω—Ç–µ–ª–∏ –≤–¥–æ–ª—å —Ç–µ–ª–∞ –∏–ª–∏ –Ω–∞ –ø–ª–µ—á–∞—Ö. –ì–ª—É–±–æ–∫–∏–π –ø—Ä–∏—Å–µ–¥, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è. –í–∑–≥–ª—è–¥ –≤–ø–µ—Ä–µ–¥.'
                            },
                            {
                                'name': '–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ª–µ–∂–∞',
                                'sets': '4',
                                'reps': '8-10 —Ä–∞–∑',
                                'weight': '5-8 –∫–≥',
                                'rest': '90 —Å–µ–∫',
                                'description': '–õ–µ–∂–∞ –Ω–∞ —Å–∫–∞–º—å–µ/–ø–æ–ª—É, –≥–∞–Ω—Ç–µ–ª–∏ –æ—Ç –≥—Ä—É–¥–∏ –≤–≤–µ—Ä—Ö. –õ–æ–∫—Ç–∏ –ø–æ–¥ 45¬∞ –∫ –∫–æ—Ä–ø—É—Å—É. –ì—Ä—É–¥–Ω—ã–µ.'
                            },
                            {
                                'name': '–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–∏ –≤ –Ω–∞–∫–ª–æ–Ω–µ',
                                'sets': '4',
                                'reps': '10-12 —Ä–∞–∑',
                                'weight': '5-8 –∫–≥',
                                'rest': '60 —Å–µ–∫',
                                'description': '–û–ø–æ—Ä–∞ –Ω–∞ —Å–∫–∞–º—å—é, —Å–ø–∏–Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ–ª—É. –¢—è–Ω–∏—Ç–µ –≥–∞–Ω—Ç–µ–ª—å –∫ –ø–æ—è—Å—É, —Å–≤–æ–¥—è –ª–æ–ø–∞—Ç–∫—É.'
                            },
                            {
                                'name': '–ú–∞—Ö–∏ –≥–∞–Ω—Ç–µ–ª—è–º–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã',
                                'sets': '3',
                                'reps': '12-15 —Ä–∞–∑',
                                'weight': '3-5 –∫–≥',
                                'rest': '45 —Å–µ–∫',
                                'description': '–°—Ç–æ—è, –Ω–µ–±–æ–ª—å—à–æ–π –Ω–∞–∫–ª–æ–Ω –≤–ø–µ—Ä–µ–¥. –†—É–∫–∏ —á—É—Ç—å —Å–æ–≥–Ω—É—Ç—ã, –ø–æ–¥—ä–µ–º –¥–æ —É—Ä–æ–≤–Ω—è –ø–ª–µ—á. –î–µ–ª—å—Ç—ã.'
                            },
                            {
                                'name': '–ü–æ–¥—ä–µ–º –Ω–∞ –±–∏—Ü–µ–ø—Å',
                                'sets': '3',
                                'reps': '12-15 —Ä–∞–∑',
                                'weight': '4-6 –∫–≥',
                                'rest': '45 —Å–µ–∫',
                                'description': '–õ–æ–∫—Ç–∏ –ø—Ä–∏–∂–∞—Ç—ã –∫ –∫–æ—Ä–ø—É—Å—É, –ø–æ–¥—ä–µ–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å —Å—É–ø–∏–Ω–∞—Ü–∏–µ–π (—Ä–∞–∑–≤–æ—Ä–æ—Ç –∫–∏—Å—Ç–∏).'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–†–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ—Ö —Ä–∞–±–æ—á–∏—Ö –≥—Ä—É–ø–ø –º—ã—à—Ü'
                            }
                        ],
                        'tips': [
                            '–ü–æ–¥–±–∏—Ä–∞–π—Ç–µ –≤–µ—Å —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –±—ã–ª–∏ —Ç—è–∂–µ–ª—ã–º–∏',
                            '–û—Ç–¥—ã—Ö –º–µ–∂–¥—É –ø–æ–¥—Ö–æ–¥–∞–º–∏ 90-120 —Å–µ–∫—É–Ω–¥',
                            '–ü–µ–π—Ç–µ –ø—Ä–æ—Ç–µ–∏–Ω –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',
                            '–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ —É–≥–ª–µ–≤–æ–¥—ã –¥–ª—è —ç–Ω–µ—Ä–≥–∏–∏'
                        ]
                    }
                },
                'intermediate': {
                    'minimal': {
                        'name': 'üí™ –°–ø–ª–∏—Ç-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (–≤–µ—Ä—Ö/–Ω–∏–∑)',
                        'description': '–†–∞–∑–¥–µ–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –º—ã—à—Ü',
                        'calories': '300-400',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–†–∞–∑–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞ –ø–æ–¥ —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –≥—Ä—É–ø–ø—É –º—ã—à—Ü'
                            },
                            {
                                'name': '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –≤—ã–ø—Ä—ã–≥–∏–≤–∞–Ω–∏–µ–º',
                                'sets': '4',
                                'reps': '15 —Ä–∞–∑',
                                'rest': '60 —Å–µ–∫',
                                'description': '–ò–∑ –ø—Ä–∏—Å–µ–¥–∞ –≤–∑—Ä—ã–≤–Ω–æ–µ –≤—ã–ø—Ä—ã–≥–∏–≤–∞–Ω–∏–µ. –†–∞–∑–≤–∏–≤–∞–µ—Ç –≤–∑—Ä—ã–≤–Ω—É—é —Å–∏–ª—É.'
                            },
                            {
                                'name': '–ë–æ–ª–≥–∞—Ä—Å–∫–∏–µ –≤—ã–ø–∞–¥—ã',
                                'sets': '4',
                                'reps': '10 –Ω–∞ –Ω–æ–≥—É',
                                'rest': '60 —Å–µ–∫',
                                'description': '–ó–∞–¥–Ω—è—è –Ω–æ–≥–∞ –Ω–∞ –≤–æ–∑–≤—ã—à–µ–Ω–∏–∏. –ì–ª—É–±–æ–∫–∏–π –≤—ã–ø–∞–¥, –ø–µ—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–µ–Ω–æ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –Ω–æ—Å–æ–∫.'
                            },
                            {
                                'name': '–Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç–∏–∫',
                                'sets': '4',
                                'reps': '20 —Ä–∞–∑',
                                'rest': '45 —Å–µ–∫',
                                'description': '–õ–µ–∂–∞, –Ω–æ–≥–∏ —Å–æ–≥–Ω—É—Ç—ã. –ü–æ–¥–Ω–∏–º–∞–π—Ç–µ —Ç–∞–∑ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–≤–µ—Ä—Ö, –∑–∞–¥–µ—Ä–∂–∏—Ç–µ—Å—å –≤ –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ.'
                            },
                            {
                                'name': '–í—ã–ø–∞–¥—ã –≤ —Å—Ç–æ—Ä–æ–Ω—ã',
                                'sets': '3',
                                'reps': '12 –≤ –∫–∞–∂–¥—É—é',
                                'rest': '45 —Å–µ–∫',
                                'description': '–®–∏—Ä–æ–∫–∏–π —à–∞–≥ –≤ —Å—Ç–æ—Ä–æ–Ω—É, —Ç–∞–∑ –Ω–∞–∑–∞–¥. –†–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç –ø—Ä–∏–≤–æ–¥—è—â–∏–µ –º—ã—à—Ü—ã.'
                            },
                            {
                                'name': '–ò–∫—Ä—ã (–ø–æ–¥—ä–µ–º –Ω–∞ –Ω–æ—Å–∫–∏)',
                                'sets': '3',
                                'reps': '25-30 —Ä–∞–∑',
                                'rest': '30 —Å–µ–∫',
                                'description': '–°—Ç–æ—è, –ø–æ–¥–Ω–∏–º–∞–π—Ç–µ—Å—å –Ω–∞ –Ω–æ—Å–∫–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ. –ó–∞–¥–µ—Ä–∂–∏—Ç–µ—Å—å –≤ –≤–µ—Ä—Ö–Ω–µ–π —Ç–æ—á–∫–µ.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–†–∞—Å—Ç—è–∂–∫–∞ –Ω–æ–≥ –∏ —è–≥–æ–¥–∏—Ü'
                            }
                        ],
                        'tips': [
                            '–°–ø–ª–∏—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—É—á—à–µ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥—É—é –≥—Ä—É–ø–ø—É',
                            '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ—Å—å 4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é',
                            '–£–≤–µ–ª–∏—á—å—Ç–µ –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å —Ä–∞—Ü–∏–æ–Ω–∞',
                            '–ü–µ–π—Ç–µ –∫—Ä–µ–∞—Ç–∏–Ω –¥–ª—è —Å–∏–ª—ã'
                        ]
                    }
                },
                'advanced': {
                    'full': {
                        'name': 'üí™ –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π —Å–∏–ª–æ–≤–æ–π —Ç—Ä–µ–Ω–∏–Ω–≥',
                        'description': '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏',
                        'calories': '350-500',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–∑–º–∏–Ω–∫–∞',
                                'duration': '7 –º–∏–Ω',
                                'description': '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–≤—è–∑–æ–∫ –∏ —Å—É—Å—Ç–∞–≤–æ–≤ –∫ —Ç—è–∂–µ–ª–æ–π —Ä–∞–±–æ—Ç–µ'
                            },
                            {
                                'name': '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –≥–∞–Ω—Ç–µ–ª—å—é "–ì–æ–±–ª–µ—Ç"',
                                'sets': '5',
                                'reps': '8-10 —Ä–∞–∑',
                                'weight': '12-16 –∫–≥',
                                'rest': '120 —Å–µ–∫',
                                'description': '–ì–∞–Ω—Ç–µ–ª—å —É –≥—Ä—É–¥–∏, –≥–ª—É–±–æ–∫–∏–π –ø—Ä–∏—Å–µ–¥. –°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è, –ª–æ–∫—Ç–∏ —Å–º–æ—Ç—Ä—è—Ç –≤–Ω–∏–∑.'
                            },
                            {
                                'name': '–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π –ø–æ–¥ —É–≥–ª–æ–º',
                                'sets': '5',
                                'reps': '8-10 —Ä–∞–∑',
                                'weight': '8-12 –∫–≥',
                                'rest': '120 —Å–µ–∫',
                                'description': '–°–∫–∞–º—å—è –ø–æ–¥ 30¬∞, –∂–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π. –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –≤–µ—Ä—Ö –≥—Ä—É–¥–∏.'
                            },
                            {
                                'name': '–¢—è–≥–∞ –≥–∞–Ω—Ç–µ–ª–µ–π –∫ –ø–æ—è—Å—É',
                                'sets': '4',
                                'reps': '10-12 —Ä–∞–∑',
                                'weight': '8-10 –∫–≥',
                                'rest': '90 —Å–µ–∫',
                                'description': '–ù–∞–∫–ª–æ–Ω –∫–æ—Ä–ø—É—Å–∞ 45¬∞, —Ç—è–Ω–∏—Ç–µ –≥–∞–Ω—Ç–µ–ª–∏ –∫ –∂–∏–≤–æ—Ç—É, —Å–≤–æ–¥—è –ª–æ–ø–∞—Ç–∫–∏.'
                            },
                            {
                                'name': '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –∂–∏–º —Å –≥–∞–Ω—Ç–µ–ª—å—é',
                                'sets': '4',
                                'reps': '12-15 —Ä–∞–∑',
                                'weight': '4-6 –∫–≥',
                                'rest': '60 —Å–µ–∫',
                                'description': '–õ–µ–∂–∞, –≥–∞–Ω—Ç–µ–ª—å –∑–∞ –≥–æ–ª–æ–≤—É, —Ä–∞–∑–≥–∏–±–∞–Ω–∏–µ —Ä—É–∫. –¢—Ä–∏—Ü–µ–ø—Å.'
                            },
                            {
                                'name': '–ú–æ–ª–æ—Ç–∫–∏ –Ω–∞ –±–∏—Ü–µ–ø—Å',
                                'sets': '4',
                                'reps': '12-15 —Ä–∞–∑',
                                'weight': '5-8 –∫–≥',
                                'rest': '60 —Å–µ–∫',
                                'description': '–ì–∞–Ω—Ç–µ–ª–∏ —Ö–≤–∞—Ç–æ–º –º–æ–ª–æ—Ç–æ–∫, –ø–æ–æ—á–µ—Ä–µ–¥–Ω—ã–π –ø–æ–¥—ä–µ–º. –õ–æ–∫—Ç–∏ –ø—Ä–∏–∂–∞—Ç—ã.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–ì–ª—É–±–æ–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞, –º–∞—Å—Å–∞–∂ –º—ã—à—Ü'
                            }
                        ],
                        'tips': [
                            '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø –ø–∏—Ä–∞–º–∏–¥—ã (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Å–∞)',
                            '–î–µ–ª–∞–π—Ç–µ –¥—Ä–æ–ø-—Å–µ—Ç—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø–æ–¥—Ö–æ–¥–µ',
                            '–ü—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã',
                            '–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å 72 —á–∞—Å–∞ –º–µ–∂–¥—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –≥—Ä—É–ø–ø—ã'
                        ]
                    }
                }
            },
            'maintenance': {  # –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–æ–Ω—É—Å–∞ - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
                'beginner': {
                    'minimal': {
                        'name': 'üßò –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞',
                        'description': '–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ —Ç–æ–Ω—É—Å–∞ –∏ —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è',
                        'calories': '150-250',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–†–∞–∑–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–•–æ–¥—å–±–∞ –Ω–∞ –º–µ—Å—Ç–µ, –º–∞—Ö–∏ —Ä—É–∫–∞–º–∏, –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –∫–æ—Ä–ø—É—Å–æ–º'
                            },
                            {
                                'name': '–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è',
                                'sets': '3',
                                'reps': '15 —Ä–∞–∑',
                                'rest': '30 —Å–µ–∫',
                                'description': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –≤–µ—Å–æ–º. –°–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è, –¥—ã—Ö–∞–Ω–∏–µ —Ä–æ–≤–Ω–æ–µ.'
                            },
                            {
                                'name': '–û—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç —Å—Ç–µ–Ω—ã',
                                'sets': '3',
                                'reps': '12-15 —Ä–∞–∑',
                                'rest': '30 —Å–µ–∫',
                                'description': '–£ —Å—Ç–µ–Ω—ã, —á–µ–º –¥–∞–ª—å—à–µ –Ω–æ–≥–∏, —Ç–µ–º —Å–ª–æ–∂–Ω–µ–µ. –ì—Ä—É–¥–Ω—ã–µ –∏ —Ç—Ä–∏—Ü–µ–ø—Å.'
                            },
                            {
                                'name': '–í—ã–ø–∞–¥—ã',
                                'sets': '3',
                                'reps': '10 –Ω–∞ –Ω–æ–≥—É',
                                'rest': '30 —Å–µ–∫',
                                'description': '–®–∞–≥ –≤–ø–µ—Ä–µ–¥, –∑–∞–¥–Ω–µ–µ –∫–æ–ª–µ–Ω–æ –ø–æ—á—Ç–∏ –∫–∞—Å–∞–µ—Ç—Å—è –ø–æ–ª–∞. –ë–∞–ª–∞–Ω—Å –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è.'
                            },
                            {
                                'name': '–ü–ª–∞–Ω–∫–∞',
                                'sets': '3',
                                'reps': '30 —Å–µ–∫',
                                'rest': '20 —Å–µ–∫',
                                'description': '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø–ª–∞–Ω–∫–∞ –Ω–∞ –ª–æ–∫—Ç—è—Ö. –î—ã—à–∏—Ç–µ —Ä–æ–≤–Ω–æ, –Ω–µ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –¥—ã—Ö–∞–Ω–∏–µ.'
                            },
                            {
                                'name': '–ü–æ–¥—ä–µ–º –Ω–æ–≥ –ª–µ–∂–∞',
                                'sets': '3',
                                'reps': '15 —Ä–∞–∑',
                                'rest': '20 —Å–µ–∫',
                                'description': '–õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –ø–æ–¥—ä–µ–º –ø—Ä—è–º—ã—Ö –Ω–æ–≥ –¥–æ 45¬∞. –ù–∏–∂–Ω–∏–π –ø—Ä–µ—Å—Å.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–õ–µ–≥–∫–∞—è —Ä–∞—Å—Ç—è–∂–∫–∞, –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è'
                            }
                        ],
                        'tips': [
                            '–¢—Ä–µ–Ω–∏—Ä—É–π—Ç–µ—Å—å –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è, –∞ –Ω–µ –¥–ª—è —Ä–µ–∫–æ—Ä–¥–æ–≤',
                            '–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ–º',
                            '–ü–µ–π—Ç–µ –≤–æ–¥—É —Ä–µ–≥—É–ª—è—Ä–Ω–æ',
                            '–°–æ—á–µ—Ç–∞–π—Ç–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∏—Ç–∞–Ω–∏–µ–º'
                        ]
                    }
                },
                'intermediate': {
                    'minimal': {
                        'name': 'üßò –ö—Ä—É–≥–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è',
                        'description': '–£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –≥—Ä—É–ø–ø –º—ã—à—Ü, —Ä–∞–∑–≤–∏—Ç–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏',
                        'calories': '200-300',
                        'duration': duration,
                        'exercises': [
                            {
                                'name': '–†–∞–∑–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–°—É—Å—Ç–∞–≤–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞ + –ª–µ–≥–∫–æ–µ –∫–∞—Ä–¥–∏–æ'
                            },
                            {
                                'name': '–ë—ë—Ä–ø–∏ –±–µ–∑ –ø—Ä—ã–∂–∫–∞',
                                'sets': '3',
                                'reps': '12 —Ä–∞–∑',
                                'rest': '30 —Å–µ–∫',
                                'description': '–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ –ø—Ä—ã–∂–∫–∞ –≤–≤–µ—Ä—Ö. –¢–µ—Ö–Ω–∏—á–Ω—ã–µ –±—ë—Ä–ø–∏.'
                            },
                            {
                                'name': '–°–∏—Ç–∞–ø—ã',
                                'sets': '3',
                                'reps': '20 —Ä–∞–∑',
                                'rest': '30 —Å–µ–∫',
                                'description': '–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–µ—Å—Å. –ù–æ–≥–∏ —Å–æ–≥–Ω—É—Ç—ã, –ø–æ—è—Å–Ω–∏—Ü–∞ –ø—Ä–∏–∂–∞—Ç–∞.'
                            },
                            {
                                'name': '–û—Ç–∂–∏–º–∞–Ω–∏—è',
                                'sets': '3',
                                'reps': '12 —Ä–∞–∑',
                                'rest': '30 —Å–µ–∫',
                                'description': '–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –æ—Ç–∂–∏–º–∞–Ω–∏—è –æ—Ç –ø–æ–ª–∞. –î–µ—Ä–∂–∏—Ç–µ –∫–æ—Ä–ø—É—Å –ø—Ä—è–º–æ.'
                            },
                            {
                                'name': '–í–µ–ª–æ—Å–∏–ø–µ–¥',
                                'sets': '3',
                                'reps': '25 —Ä–∞–∑',
                                'rest': '20 —Å–µ–∫',
                                'description': '–õ–µ–∂–∞, –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ–µ —Å–≥–∏–±–∞–Ω–∏–µ –Ω–æ–≥ —Å –ø–æ–≤–æ—Ä–æ—Ç–æ–º –∫–æ—Ä–ø—É—Å–∞. –ö–æ—Å—ã–µ –º—ã—à—Ü—ã.'
                            },
                            {
                                'name': '–ó–∞–º–∏–Ω–∫–∞',
                                'duration': '5 –º–∏–Ω',
                                'description': '–†–∞—Å—Ç—è–∂–∫–∞ –≤—Å–µ–≥–æ —Ç–µ–ª–∞'
                            }
                        ],
                        'tips': [
                            '–ö—Ä—É–≥–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –æ—Ç–ª–∏—á–Ω–æ —Å–∂–∏–≥–∞—é—Ç –∂–∏—Ä',
                            '–û—Ç–¥—ã—Ö –º–µ–∂–¥—É –∫—Ä—É–≥–∞–º–∏ 2 –º–∏–Ω—É—Ç—ã',
                            '–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—É–ª—å—Å–æ–º',
                            '–î—ã—à–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: —É—Å–∏–ª–∏–µ –Ω–∞ –≤—ã–¥–æ—Ö–µ'
                        ]
                    }
                }
            }
        }

        # –ü–æ–ª—É—á–∞–µ–º –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
        try:
            plan = workouts_db[goal][level][equipment]
        except KeyError:
            # –ï—Å–ª–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –±–µ—Ä–µ–º –±–∞–∑–æ–≤—É—é
            plan = workouts_db['maintenance']['beginner']['minimal']

        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
        plan['goal'] = goal
        plan['level'] = level
        plan['equipment'] = equipment

        return jsonify({'success': True, 'plan': plan})

    except Exception as e:
        print(f"Error in get_workout_plan: {str(e)}")
        return jsonify({'success': False, 'error': str(e)}), 500
        # –ü–æ–ª—É—á–∞–µ–º –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
        try:
            plan = workouts_db[goal][level][equipment]
        except KeyError:
            # –ï—Å–ª–∏ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –±–µ—Ä–µ–º –±–∞–∑–æ–≤—É—é
            plan = workouts_db['maintenance']['beginner']['minimal']

        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
        plan['goal'] = goal
        plan['level'] = level
        plan['equipment'] = equipment

        return jsonify({'success': True, 'plan': plan})

    except Exception as e:
        print(f"Error in get_workout_plan: {str(e)}")  # –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
        return jsonify({'success': False, 'error': str(e)}), 500


@app.route('/calculate', methods=['POST'])
def calculate():
    try:
        data = request.json

        weight = float(data['weight'])
        height = float(data['height'])
        age = int(data['age'])
        gender = data['gender']
        activity = data['activity']
        goal = data['goal']

        # –†–∞—Å—á–µ—Ç –∫–∞–ª–æ—Ä–∏–π
        result = calculate_calories(weight, height, age, gender, activity, goal)

        # –†–∞—Å—á–µ—Ç –ò–ú–¢
        bmi = calculate_bmi(weight, height)
        bmi_category = get_bmi_category(bmi)

        # –î–æ–±–∞–≤–ª—è–µ–º –ò–ú–¢ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        result['bmi'] = bmi
        result['bmi_category'] = bmi_category

        # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
        if current_user.is_authenticated:
            history = CalculationHistory(
                user_id=current_user.id,
                weight=weight,
                height=height,
                age=age,
                gender=gender,
                activity_level=activity,
                goal=goal,
                bmr=result['bmr'],
                maintenance=result['maintenance'],
                recommended_calories=result['recommended'],
                protein=result['protein'],
                fats=result['fats'],
                carbs=result['carbs']
            )
            db.session.add(history)

            current_user.total_calculations += 1

            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            new_achievements = check_achievements(current_user)
            db.session.commit()

            if new_achievements:
                result['new_achievements'] = new_achievements

        return jsonify({
            'success': True,
            'data': result,
            'is_authenticated': current_user.is_authenticated
        })

    except Exception as e:
        return jsonify({
            'success': False,
            'error': str(e)
        })


@app.route('/save_progress', methods=['POST'])
@login_required
def save_progress():
    try:
        data = request.json
        today = datetime.utcnow().date()

        progress = UserProgress.query.filter_by(
            user_id=current_user.id,
            date=today
        ).first()

        if not progress:
            progress = UserProgress(user_id=current_user.id, date=today)

        progress.weight = data.get('weight', progress.weight)
        progress.calories_consumed = data.get('calories', progress.calories_consumed)
        progress.protein_consumed = data.get('protein', progress.protein_consumed)
        progress.fats_consumed = data.get('fats', progress.fats_consumed)
        progress.carbs_consumed = data.get('carbs', progress.carbs_consumed)
        progress.water_consumed = data.get('water', progress.water_consumed)
        progress.steps = data.get('steps', progress.steps)
        progress.mood = data.get('mood', progress.mood)
        progress.notes = data.get('notes', progress.notes)

        db.session.add(progress)
        db.session.commit()

        return jsonify({'success': True})

    except Exception as e:
        return jsonify({'success': False, 'error': str(e)})


@app.route('/get_history')
@login_required
def get_history():
    calculations = CalculationHistory.query.filter_by(user_id=current_user.id) \
        .order_by(CalculationHistory.date.desc()).all()
    return jsonify([c.to_dict() for c in calculations])


@app.route('/delete_history/<int:calc_id>', methods=['DELETE'])
@login_required
def delete_history(calc_id):
    calc = CalculationHistory.query.get_or_404(calc_id)
    if calc.user_id == current_user.id:
        db.session.delete(calc)
        db.session.commit()
        return jsonify({'success': True})
    return jsonify({'success': False, 'error': '–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞'}), 403


@app.route('/update_profile', methods=['POST'])
@login_required
def update_profile():
    try:
        current_user.age = request.form.get('age', type=int)
        current_user.weight = request.form.get('weight', type=float)
        current_user.height = request.form.get('height', type=float)
        current_user.gender = request.form.get('gender')
        current_user.activity_level = request.form.get('activity')
        current_user.goal = request.form.get('goal')

        db.session.commit()
        flash('–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω', 'success')

    except Exception as e:
        flash(f'–û—à–∏–±–∫–∞: {str(e)}', 'danger')

    return redirect(url_for('profile'))


if __name__ == '__main__':
    app.run(debug=True)